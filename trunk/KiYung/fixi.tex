\chapter{System \Fixi}\label{ch:fixi}
\index{System Fixi@System \Fixi}
\index{polymorphic lambda calculus!System Fixi@System \Fixi}
In this chapter, we investigate how the framework we have developed
needs to be extended to handle Mendler-style operators that support
primitive recursion. Recall that a primitive recursive operator supplies
access to immediate subterms as well as the value of recursive calls over
those subterms. The factorial function is the classic example of
a primitive recursive function.

It is fairly well known that there cannot be a reduction-preserving embedding
of primitive recursion\footnote{
	Although we can define primitive recursion for positive datatypes
	in terms of iteration, which is embeddable in System \F, such an
	embedding would not be reduction-preserving. That is, it would require
	more reduction steps than the usual definition of primitive recursion.}
in System \F. A proof of this is outlined in the paper 
\textit{Induction is not derivable in second-order dependent type theory}
\cite{Geuvers01}. For similar reasons, researchers strongly believe that
there is no reduction-preserving embedding of primitive recursion 
in System \Fw. Fortunately, all hope is not lost for finding
a reduction preserving embedding in a relatively simple calculus. 
\citet{AbeMat04} have designed \Fixw, an extension of \Fw,
that embeds primitive recursion with the desired reduction behavior.
Their embedding relies on a novel use of the two extensions to \Fw\ --
polarized kinds and an equi-recursive fixpoint type operator --
in order to define primitive recursion within \Fixw.
\index{fixpoint!equi-recursive}

As a natural extension of these ideas, in this chapter we present \Fixi,
an extension of \Fixw\ with erasable term-indices, that embeds
primitive recursion over term-indexed datatypes as well as
type-indexed datatypes and regular datatypes.

The organization of this chapter is analogous to Chapter \ref{ch:fi},
where we added term-indices to \Fw\ to obtain \Fi. Here, we add
term indices to \Fixw\ to obtain \Fixi. We describe \Fixi\ focusing on
its differences from \Fi. Readers may refer back to Chapter \ref{ch:fi}
for those details that remain unchanged from System~\Fi.

We describe syntax and typing rules (\S\ref{sec:fixi:def}),
illustrate embeddings of primitive recursion (\S\ref{sec:fixi:data}),
and discuss embeddings of course-of-values recursion (\S\ref{sec:fixi:cv}).
Finally, we discuss the metatheory of \Fixi\ (\S\ref{sec:fixi:theory}).

\input{fixi_fixi} %% \label{sec:fixi:def}

\input{fixi_prim} %% \label{sec:fixi:data}

\input{fixi_cvpr} %% \label{sec:fixi:cv}

\input{fixi_theory} %% \label{sec:fixi:theory}

